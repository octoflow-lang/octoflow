#version 450
layout(local_size_x = 256) in;
layout(set=0, binding=0) buffer Input  { float data[]; } inp;
layout(set=0, binding=1) buffer Output { float data[]; } out_;
void main() {
    uint gid = gl_GlobalInvocationID.x;
    float val = inp.data[gid];
    // Sum from 1 to val (capped at 10 iterations for safety)
    float sum = 0.0;
    int n = int(val);
    if (n > 10) n = 10;
    if (n < 0) n = 0;
    for (int i = 1; i <= n; i++) {
        sum += float(i);
    }
    out_.data[gid] = sum;
}
