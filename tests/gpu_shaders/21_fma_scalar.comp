#version 450
// fma_scalar â€” fused multiply-accumulate: out[i] += in[i] * scalar
// Broadcast join primitive: accumulates dimension table values into fact table.
// In-place update on binding 1. Safe: each thread touches unique index.
// 2 bindings, 1 push constant.
layout(local_size_x = 256) in;
layout(set=0, binding=0) buffer Input  { float data[]; } inp;
layout(set=0, binding=1) buffer Output { float data[]; } out_;
layout(push_constant) uniform PC { float value; } pc;
void main() {
    uint i = gl_GlobalInvocationID.x;
    out_.data[i] = out_.data[i] + inp.data[i] * pc.value;
}
